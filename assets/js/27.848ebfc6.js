(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{441:function(t,a,s){"use strict";s.r(a);var e=s(26),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå¸®ä½ å¤„ç†å¤„ç†å¼‚æ­¥è¯·æ±‚çš„å¤ç”¨å‡½æ•° ğŸ‰ ğŸ’¯")]),t._v(" "),s("h2",{attrs:{id:"ä»£ç æ¼”ç¤º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç æ¼”ç¤º"}},[t._v("#")]),t._v(" ä»£ç æ¼”ç¤º")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("é»˜è®¤è¯·æ±‚")]),t._v(" "),s("p",[t._v("åœ¨å½“å‰ä¾‹å­ä¸­ï¼Œ"),s("code",[t._v("useReuqest")]),t._v("æ¥æ”¶ä¸€ä¸ª"),s("code",[t._v("service")]),t._v("å‡½æ•°ï¼Œ\nå¹¶ä¸”é€šè¿‡"),s("code",[t._v("defaultParams")]),t._v("ä¼ é€’äº†è¯¥å¼‚æ­¥è¯·æ±‚å‡½æ•°çš„å‚æ•°åœ¨ç»„ä»¶"),s("code",[t._v("setup")]),t._v("åç«‹å³æ‰§è¡Œï¼Œ\n"),s("code",[t._v("useReuqest")]),t._v("å°†æ¥ç®¡"),s("code",[t._v("data")]),t._v("ã€"),s("code",[t._v("loading")]),t._v("ã€"),s("code",[t._v("error")]),t._v("ç­‰ç›¸å…³çŠ¶æ€ã€‚")])]),t._v(" "),s("request-base"),t._v(" "),s("details",{staticClass:"custom-block details"},[s("summary",[t._v("ç‚¹å‡»æŸ¥çœ‹ä»£ç ")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-if")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("loading"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("loading...."),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("block"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ data }}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// import { ref } from '@vue/composition-api'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" service "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../mock'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useRequest "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@xus/vue-reuse'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request-base'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loading "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRequest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      defaultParams"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request result'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      loading\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  loading"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  run"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  cancel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  refresh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  reset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  fetches\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useReuqest")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("service"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n")])])]),s("h4",{attrs:{id:"retrunvalue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#retrunvalue"}},[t._v("#")]),t._v(" RetrunValue")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å‚æ•°")]),t._v(" "),s("th",[t._v("è¯´æ˜")]),t._v(" "),s("th",[t._v("ç±»å‹")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("data")])]),t._v(" "),s("td",[t._v("è¯·æ±‚ç»“æœ")]),t._v(" "),s("td",[s("code",[t._v("Ref<any>")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("loading")])]),t._v(" "),s("td",[t._v("è¯·æ±‚çŠ¶æ€")]),t._v(" "),s("td",[s("code",[t._v("Ref<Boolean>")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("error")])]),t._v(" "),s("td",[t._v("è¯·æ±‚é”™è¯¯çŠ¶æ€")]),t._v(" "),s("td",[s("code",[t._v("Ref<null | Error>")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("run")])]),t._v(" "),s("td",[t._v("é…ç½®æ‰‹åŠ¨æ‰§è¡Œè¯·æ±‚å‡½æ•°æ—¶ï¼Œè°ƒç”¨çš„æ‰§è¡Œå‡½æ•°")]),t._v(" "),s("td",[s("code",[t._v("function")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("cancel")])]),t._v(" "),s("td",[t._v("é…ç½®é˜²æŠ–èŠ‚æµæˆ–è€…è½®è¯¢æ—¶åœ¨"),s("code",[t._v("wait")]),t._v("æ—¶é—´åˆ°è¾¾ä¹‹å‰ï¼Œæä¾›ä¸€ä¸ªå–æ¶ˆå½“å‰"),s("code",[t._v("run")]),t._v("çš„æ–¹æ³•")]),t._v(" "),s("td",[s("code",[t._v("Ref<function>")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("refresh")])]),t._v(" "),s("td",[t._v("ä½¿ç”¨æœ€åä¸€æ¬¡è¯·æ±‚å‚æ•°é‡æ–°è¯·æ±‚")]),t._v(" "),s("td",[s("code",[t._v("Ref<function>")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("reset")])]),t._v(" "),s("td",[t._v("é‡ç½®å½“å‰"),s("code",[t._v("useRequest")]),t._v("å£°æ˜çš„è¯·æ±‚")]),t._v(" "),s("td",[s("code",[t._v("function")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("fetches")])]),t._v(" "),s("td",[t._v("å¤šä¸ªè¯·æ±‚å¹¶è¡Œæ—¶å¯¹åº”çš„è¯·æ±‚çŠ¶æ€")]),t._v(" "),s("td",[s("code",[t._v("{[fetchKey]: { data, loading, error, cancel, refresh}}")])])])])]),t._v(" "),s("h4",{attrs:{id:"params"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#params"}},[t._v("#")]),t._v(" Params")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å‚æ•°")]),t._v(" "),s("th",[t._v("è¯´æ˜")]),t._v(" "),s("th",[t._v("ç±»å‹")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("service")])]),t._v(" "),s("td",[t._v("è¯·æ±‚å‡½æ•°")]),t._v(" "),s("td",[s("code",[t._v("RequestService")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("options")])]),t._v(" "),s("td",[s("code",[t._v("useRequest")]),t._v("é…ç½®æ–‡ä»¶")]),t._v(" "),s("td",[s("code",[t._v("RequestOptions")])])])])]),t._v(" "),s("h4",{attrs:{id:"requestservice"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestservice"}},[t._v("#")]),t._v(" RequestService")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å¯æ¥å—ç±»å‹")]),t._v(" "),s("th",[t._v("è¯´æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("(...args: any[]) => Promise<any>")])]),t._v(" "),s("td",[t._v("ä¸€èˆ¬çš„"),s("code",[t._v("Promise")]),t._v("åŒ–è¯·æ±‚å‡½æ•°")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("string | { url: string, [key: string]: any }")])]),t._v(" "),s("td",[t._v("éœ€è¦ä¼ é€’"),s("code",[t._v("requestMethod")]),t._v("é…ç½®é¡¹ï¼Œä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’åˆ°"),s("code",[t._v("requestMethod")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("(...args: any[]) => string | { url: string, [key: string]: any }")])]),t._v(" "),s("td",[t._v("éœ€è¦ä¼ é€’"),s("code",[t._v("requestMethod")]),t._v("é…ç½®é¡¹ï¼Œå‡½æ•°è¿”å›å€¼ä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’åˆ°"),s("code",[t._v("requestMethod")])])])])]),t._v(" "),s("h4",{attrs:{id:"requestoptions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#requestoptions"}},[t._v("#")]),t._v(" RequestOptions")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("é…ç½®é¡¹")]),t._v(" "),s("th",[t._v("è¯´æ˜")]),t._v(" "),s("th",[t._v("ç±»å‹")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("requestMethod")])]),t._v(" "),s("td",[t._v("è¯·æ±‚å‡½æ•°")]),t._v(" "),s("td",[s("code",[t._v("(...args: any[]) => Promise<any>")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("formatResult")])]),t._v(" "),s("td",[t._v("è¯·æ±‚ç»“æœæ ¼å¼åŒ–å‡½æ•°")]),t._v(" "),s("td",[s("code",[t._v("(res: any) => any")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("defaultLoading")])]),t._v(" "),s("td",[t._v("é»˜è®¤åŠ è½½çŠ¶æ€")]),t._v(" "),s("td",[s("code",[t._v("any")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("defaultParams")])]),t._v(" "),s("td",[t._v("é»˜è®¤è¯·æ±‚å‚æ•°")]),t._v(" "),s("td",[s("code",[t._v("any[]")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("defaultData")])]),t._v(" "),s("td",[t._v("é»˜è®¤è¯·æ±‚ç»“æœ")]),t._v(" "),s("td",[s("code",[t._v("any")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onSuccess")])]),t._v(" "),s("td",[t._v("æˆåŠŸå›è°ƒ")]),t._v(" "),s("td",[s("code",[t._v("(data: any, params: any[]) => void")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onError")])]),t._v(" "),s("td",[t._v("é”™è¯¯å›è°ƒ")]),t._v(" "),s("td",[s("code",[t._v("(error: Error, params: any[]) => void")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("throwOnError")])]),t._v(" "),s("td",[t._v("è¯·æ±‚é”™è¯¯æ˜¯å¦å¯¹å¤–æŠ›å‡º")]),t._v(" "),s("td",[s("code",[t._v("Boolean")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("manual")])]),t._v(" "),s("td",[t._v("æ˜¯å¦æ‰‹åŠ¨æ‰§è¡Œè¯·æ±‚")]),t._v(" "),s("td",[s("code",[t._v("Boolean")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("loadingDelay")])]),t._v(" "),s("td",[t._v("åŠ è½½çŠ¶æ€å˜ä¸º"),s("code",[t._v("true")]),t._v("çš„å»¶è¿Ÿæ—¶é•¿")]),t._v(" "),s("td",[s("code",[t._v("number")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("pollingTime")])]),t._v(" "),s("td",[t._v("è½®è¯¢é—´éš”æ—¶é•¿")]),t._v(" "),s("td",[s("code",[t._v("number")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("debounceTime")])]),t._v(" "),s("td",[t._v("é˜²æŠ–æ—¶é•¿")]),t._v(" "),s("td",[s("code",[t._v("number")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("throttleTime")])]),t._v(" "),s("td",[t._v("èŠ‚æµæ—¶é•¿")]),t._v(" "),s("td",[s("code",[t._v("number")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("cacheKey")])]),t._v(" "),s("td",[t._v("å½“å‰è¯·æ±‚ç¡¬ç¼“å­˜çš„é”®å€¼")]),t._v(" "),s("td",[s("code",[t._v("string")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("cacheTime")])]),t._v(" "),s("td",[t._v("å½“å‰è¯·æ±‚ç¡¬ç¼“å­˜çš„è¶…æ—¶æ—¶é—´")]),t._v(" "),s("td",[s("code",[t._v("number")])])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("fetchKey")])]),t._v(" "),s("td",[t._v("å¤šè¯·æ±‚æ—¶å¯¹åº”è¯·æ±‚çš„é”®å€¼")]),t._v(" "),s("td",[s("code",[t._v("(...args: any[]) => string")])])])])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);